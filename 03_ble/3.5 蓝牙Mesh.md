# 3.5 蓝牙Mesh

## 关于蓝牙Mesh

蓝牙Mesh是蓝牙技术联盟（Bluetooth SIG）于2017年发布的最新标准。它支持多对多的设备通信（而不是BLE中的点对点方法），并对诸如楼宇自动化或传感器网络的大规模应用网络进行了优化。它应用基于管理网络泛洪（flooding）的方法，仅仅电源供电的节点中继消息，从而保证高能效（电池供电的低功耗节点并不支持消息中继，从而可以在mesh网络中工作多年）。

蓝牙Mesh网络是蓝牙规范的补充，只需要支持蓝牙4.0中的特性即可。这使得市场上大多数硬件都可以用于部署蓝牙Mesh。

## 拓扑

![http://mynewt.apache.org/latest/_images/mesh_topology.jpg](http://mynewt.apache.org/latest/_images/mesh_topology.jpg)

蓝牙Mesh为网络中的设备定义了几个角色，包括：

- 中继（Relay）——通过广播承载层接收和重传Mesh消息，以支持更大的网络。中继特性能让蓝牙mesh消息在设备之间实现多次跳跃，传输距离可超过两台设备之间无线传输的范围。
- 代理（Proxy）——接收和重传GATT承载层和广播承载层之间的mesh消息。
- 低功耗——在mesh网络中显著减少接收机占空比，降低功耗，但需要借助Friend节点的支持。
- 好友（Friend）——好友节点能够存储发往相关低功耗节点的消息，随后再进行转发。



好友节点P与低功耗节点I、J、K为Friendship关系，好友节点O与低功耗节点L、M为Friendship关系。寻址到I、J、K节点的消息将被好友节点P存储并转发。好友节点的转换仅在低功耗节点轮询好友节点已获得等待传送的消息时才会发生。



## 承载器（Bearer）

